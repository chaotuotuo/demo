function IndexedDB(e){var t=window.indexedDB.open(e.dbNameame,e.version),c=this;t.onsuccess=function(e){console.log("open success"),c.db=e.target.result},t.onerror=function(e){console.log("open error")},t.onupgradeneeded=function(t){console.log("upgradeneeded");var c=t.target.result.createObjectStore(e.objectStore,e.keyPath);for(var n in e.dbIndex)c.createIndex(n,e.dbIndex[n])}}IndexedDB.prototype={constructor:IndexedDB,createTransaction:function(e,t){return this.db.transaction(e,t).objectStore(e)},addItem:function(e){this.createTransaction(e.objectStore,e.type).add(e.item).onsuccess=function(t){console.log("add success"),e.callBack&&e.callBack(t.target.result)}},getItem:function(e){this.createTransaction(e.objectStore,e.type).get(e.key).onsuccess=function(t){console.log(t.target.result),e.callBack&&e.callBack(t.target.result)}},getItems:function(e){this.createTransaction(e.objectStore,e.type).openCursor().onsuccess=function(t){var c=t.target.result;c?(e.callBackData&&e.callBackData(c.value),c.continue()):(console.log("end"),e.callBackEnd&&e.callBackEnd())}},deleItem:function(e){this.createTransaction(e.objectStore,e.type).delete(e.item).onsuccess=function(e){console.log("delete success")}}};